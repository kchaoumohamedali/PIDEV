{% extends 'base.html.twig' %}
{% block body %}


    <button class="btn btn-success btn-icon-split" ><a href="{{ path('ajoutproduit')  }}"><span class="text" style="color: white">Ajouter </span></a></button>


    <br><br>

    <input  id="myInput"  type="text" placeholder="search">


    <table class="table table-bordered" id="t"  width="100%" cellspacing="0">
        <thead>
        <tr>

            <th> </th>
            <th> </th>
            <th>id  </th>
            <th>type produit </th>
            <th>prix produit </th>
            <th>date exposition</th>
            <th>date fin</th>
            <th> disponibilite</th>
            <th>type action</th>
            <th>image produit</th>
        </tr>
        </thead>

        <tbody id="myTable">


            {% for i in tableproduits %}
                <tr>
                    <td>  <a href="{{ path('modifierproduit',{'id': i.id}) }}"  class="btn btn-info btn-icon-split">
                                            <span class="icon text-white-50">
                        <i class="fas fa-info-circle"></i>

                    </span>
                            <span class="text">Modifier</span>

                        </a></td>
                    <td><a href="{{ path('supprimerproduit',{'id': i.id}) }}"><img src="https://img.icons8.com/color/48/000000/trash--v2.png"/></a></td>

                    <td>{{ i.id  }}</td>

                    <td>{{ i.TypeProduit }}</td>
                    <td>{{ i.prix_produit  }}</td>
                    <td>{{(i.DateExpo).format('d/m/Y')}}</td>

                    <td>{{(i.DateFin).format('d/m/Y')}}</td>
                    <td>{{ i.disponibilite }}</td>
                    <td>{{ i.TypeAction }}</td>
                    <td><img src="{{ asset('/back/images/')}}{{ i.imgproduit }}" width="100"  /></td>

                </tr>

            {% endfor %}


        </tbody>
        <tbody id="search">
        </tbody>

    </table>

    {{ knp_pagination_render(tableproduits) }}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>



{% endblock %}